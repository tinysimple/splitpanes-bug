import{u as xe,r as S,c as y,w as A,o as X,a as ee,b as ge,p as b,d as F,e as Pe,n as H,h as _e,i as O,g as Se,f as W,j as we,k as ye,l as U,_ as Me,m as Re,q as R,s as g,t as _,v as C,x as I}from"./index-DTFDus4E.js";const ke={__name:"splitpanes",props:{horizontal:{type:Boolean,default:!1},pushOtherPanes:{type:Boolean,default:!0},maximizePanes:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean,default:!1}},emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click","splitter-dblclick"],setup(L,{emit:V}){const P=V,r=L,M=xe(),i=S([]),w=y(()=>i.value.reduce((e,n)=>(e[~~n.id]=n)&&e,{})),p=y(()=>i.value.length),o=S(null),f=S(!1),v=S({mouseDown:!1,dragging:!1,activeSplitter:null,cursorOffset:0}),c=S({splitter:null,timeoutId:null}),k=y(()=>({[`splitpanes splitpanes--${r.horizontal?"horizontal":"vertical"}`]:!0,"splitpanes--dragging":v.value.dragging})),N=()=>{document.addEventListener("mousemove",d,{passive:!1}),document.addEventListener("mouseup",E),"ontouchstart"in window&&(document.addEventListener("touchmove",d,{passive:!1}),document.addEventListener("touchend",E))},z=()=>{document.removeEventListener("mousemove",d,{passive:!1}),document.removeEventListener("mouseup",E),"ontouchstart"in window&&(document.removeEventListener("touchmove",d,{passive:!1}),document.removeEventListener("touchend",E))},D=(e,n)=>{const l=e.target.closest(".splitpanes__splitter");if(l){const{left:t,top:a}=l.getBoundingClientRect(),{clientX:s,clientY:u}="ontouchstart"in window&&e.touches?e.touches[0]:e;v.value.cursorOffset=r.horizontal?u-a:s-t}N(),v.value.mouseDown=!0,v.value.activeSplitter=n},d=e=>{v.value.mouseDown&&(e.preventDefault(),v.value.dragging=!0,requestAnimationFrame(()=>{le(te(e)),h("resize",{event:e},!0)}))},E=e=>{v.value.dragging&&h("resized",{event:e},!0),v.value.mouseDown=!1,v.value.activeSplitter=null,setTimeout(()=>{v.value.dragging=!1,z()},100)},j=(e,n)=>{"ontouchstart"in window&&(e.preventDefault(),c.value.splitter===n?(clearTimeout(c.value.timeoutId),c.value.timeoutId=null,Y(e,n),c.value.splitter=null):(c.value.splitter=n,c.value.timeoutId=setTimeout(()=>c.value.splitter=null,500))),v.value.dragging||h("splitter-click",{event:e,index:n},!0)},Y=(e,n)=>{if(h("splitter-dblclick",{event:e,index:n},!0),r.maximizePanes){let l=0;i.value=i.value.map((t,a)=>(t.size=a===n?t.max:t.min,a!==n&&(l+=t.min),t)),i.value[n].size-=l,h("pane-maximize",{event:e,index:n,pane:i.value[n]}),h("resized",{event:e,index:n},!0)}},ne=(e,n)=>{h("pane-click",{event:e,index:w.value[n].index,pane:w.value[n]})},te=e=>{const n=o.value.getBoundingClientRect(),{clientX:l,clientY:t}="ontouchstart"in window&&e.touches?e.touches[0]:e;return{x:l-(r.horizontal?0:v.value.cursorOffset)-n.left,y:t-(r.horizontal?v.value.cursorOffset:0)-n.top}},ae=e=>{e=e[r.horizontal?"y":"x"];const n=o.value[r.horizontal?"clientHeight":"clientWidth"];return r.rtl&&!r.horizontal&&(e=n-e),e*100/n},le=e=>{const n=v.value.activeSplitter;let l={prevPanesSize:J(n),nextPanesSize:B(n),prevReachedMinPanes:0,nextReachedMinPanes:0};const t=0+(r.pushOtherPanes?0:l.prevPanesSize),a=100-(r.pushOtherPanes?0:l.nextPanesSize),s=Math.max(Math.min(ae(e),a),t);let u=[n,n+1],m=i.value[u[0]]||null,x=i.value[u[1]]||null;const Q=m.max<100&&s>=m.max+l.prevPanesSize,he=x.max<100&&s<=100-(x.max+B(n+1));if(Q||he){Q?(m.size=m.max,x.size=Math.max(100-m.max-l.prevPanesSize-l.nextPanesSize,0)):(m.size=Math.max(100-x.max-l.prevPanesSize-B(n+1),0),x.size=x.max);return}if(r.pushOtherPanes){const Z=ie(l,s);if(!Z)return;({sums:l,panesToResize:u}=Z),m=i.value[u[0]]||null,x=i.value[u[1]]||null}m!==null&&(m.size=Math.min(Math.max(s-l.prevPanesSize-l.prevReachedMinPanes,m.min),m.max)),x!==null&&(x.size=Math.min(Math.max(100-s-l.nextPanesSize-l.nextReachedMinPanes,x.min),x.max))},ie=(e,n)=>{const l=v.value.activeSplitter,t=[l,l+1];return n<e.prevPanesSize+i.value[t[0]].min&&(t[0]=se(l).index,e.prevReachedMinPanes=0,t[0]<l&&i.value.forEach((a,s)=>{s>t[0]&&s<=l&&(a.size=a.min,e.prevReachedMinPanes+=a.min)}),e.prevPanesSize=J(t[0]),t[0]===void 0)?(e.prevReachedMinPanes=0,i.value[0].size=i.value[0].min,i.value.forEach((a,s)=>{s>0&&s<=l&&(a.size=a.min,e.prevReachedMinPanes+=a.min)}),i.value[t[1]].size=100-e.prevReachedMinPanes-i.value[0].min-e.prevPanesSize-e.nextPanesSize,null):n>100-e.nextPanesSize-i.value[t[1]].min&&(t[1]=oe(l).index,e.nextReachedMinPanes=0,t[1]>l+1&&i.value.forEach((a,s)=>{s>l&&s<t[1]&&(a.size=a.min,e.nextReachedMinPanes+=a.min)}),e.nextPanesSize=B(t[1]-1),t[1]===void 0)?(e.nextReachedMinPanes=0,i.value.forEach((a,s)=>{s<p.value-1&&s>=l+1&&(a.size=a.min,e.nextReachedMinPanes+=a.min)}),i.value[t[0]].size=100-e.prevPanesSize-B(t[0]-1),null):{sums:e,panesToResize:t}},J=e=>i.value.reduce((n,l,t)=>n+(t<e?l.size:0),0),B=e=>i.value.reduce((n,l,t)=>n+(t>e+1?l.size:0),0),se=e=>[...i.value].reverse().find(n=>n.index<e&&n.size>n.min)||{},oe=e=>i.value.find(n=>n.index>e+1&&n.size>n.min)||{},ue=()=>{var e;const n=Array.from(((e=o.value)==null?void 0:e.children)||[]);for(const l of n){const t=l.classList.contains("splitpanes__pane"),a=l.classList.contains("splitpanes__splitter");!t&&!a&&(l.remove(),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))}},K=(e,n,l=!1)=>{const t=e-1,a=document.createElement("div");a.classList.add("splitpanes__splitter"),l||(a.onmousedown=s=>D(s,t),typeof window<"u"&&"ontouchstart"in window&&(a.ontouchstart=s=>D(s,t)),a.onclick=s=>j(s,t+1)),a.ondblclick=s=>Y(s,t+1),n.parentNode.insertBefore(a,n)},re=e=>{e.onmousedown=void 0,e.onclick=void 0,e.ondblclick=void 0,e.remove()},T=()=>{var e;const n=Array.from(((e=o.value)==null?void 0:e.children)||[]);for(const t of n)t.className.includes("splitpanes__splitter")&&re(t);let l=0;for(const t of n)t.className.includes("splitpanes__pane")&&(!l&&r.firstSplitter?K(l,t,!0):l&&K(l,t),l++)},de=({uid:e,...n})=>{const l=w.value[e];for(const[t,a]of Object.entries(n))l[t]=a},ve=e=>{var n;let l=-1;Array.from(((n=o.value)==null?void 0:n.children)||[]).some(t=>(t.className.includes("splitpanes__pane")&&l++,t.isSameNode(e.el))),i.value.splice(l,0,{...e,index:l}),i.value.forEach((t,a)=>t.index=a),f.value&&H(()=>{T(),q({addedPane:i.value[l]}),h("pane-add",{pane:i.value[l]})})},me=e=>{const n=i.value.findIndex(t=>t.id===e);i.value[n].el=null;const l=i.value.splice(n,1)[0];i.value.forEach((t,a)=>t.index=a),H(()=>{T(),h("pane-remove",{pane:l}),q({removedPane:{...l}})})},q=(e={})=>{!e.addedPane&&!e.removedPane?ce():i.value.some(n=>n.givenSize!==null||n.min||n.max<100)?fe(e):pe(),f.value&&h("resized")},pe=()=>{const e=100/p.value;let n=0;const l=[],t=[];for(const a of i.value)a.size=Math.max(Math.min(e,a.max),a.min),n-=a.size,a.size>=a.max&&l.push(a.id),a.size<=a.min&&t.push(a.id);n>.1&&$(n,l,t)},ce=()=>{let e=100;const n=[],l=[];let t=0;for(const s of i.value)e-=s.size,s.givenSize!==null&&t++,s.size>=s.max&&n.push(s.id),s.size<=s.min&&l.push(s.id);let a=100;if(e>.1){for(const s of i.value)s.givenSize===null&&(s.size=Math.max(Math.min(e/(p.value-t),s.max),s.min)),a-=s.size;a>.1&&$(a,n,l)}},fe=({addedPane:e,removedPane:n}={})=>{let l=100/p.value,t=0;const a=[],s=[];((e==null?void 0:e.givenSize)??null)!==null&&(l=(100-e.givenSize)/(p.value-1));for(const u of i.value)t-=u.size,u.size>=u.max&&a.push(u.id),u.size<=u.min&&s.push(u.id);if(!(Math.abs(t)<.1)){for(const u of i.value)(e==null?void 0:e.givenSize)!==null&&(e==null?void 0:e.id)===u.id||(u.size=Math.max(Math.min(l,u.max),u.min)),t-=u.size,u.size>=u.max&&a.push(u.id),u.size<=u.min&&s.push(u.id);t>.1&&$(t,a,s)}},$=(e,n,l)=>{let t;e>0?t=e/(p.value-n.length):t=e/(p.value-l.length),i.value.forEach((a,s)=>{if(e>0&&!n.includes(a.id)){const u=Math.max(Math.min(a.size+t,a.max),a.min),m=u-a.size;e-=m,a.size=u}else if(!l.includes(a.id)){const u=Math.max(Math.min(a.size+t,a.max),a.min),m=u-a.size;e-=m,a.size=u}}),Math.abs(e)>.1&&H(()=>{f.value&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})},h=(e,n=void 0,l=!1)=>{const t=(n==null?void 0:n.index)??v.value.activeSplitter??null;P(e,{...n,...t!==null&&{index:t},...l&&t!==null&&{prevPane:i.value[t-(r.firstSplitter?1:0)],nextPane:i.value[t+(r.firstSplitter?0:1)]},panes:i.value.map(a=>({min:a.min,max:a.max,size:a.size}))})};A(()=>r.firstSplitter,()=>T()),X(()=>{ue(),T(),q(),h("ready"),f.value=!0}),ee(()=>f.value=!1);const ze=()=>{var e;return _e("div",{ref:o,class:k.value},(e=M.default)==null?void 0:e.call(M))};return b("panes",i),b("indexedPanes",w),b("horizontal",y(()=>r.horizontal)),b("requestUpdate",de),b("onPaneAdd",ve),b("onPaneRemove",me),b("onPaneClick",ne),(e,n)=>(F(),ge(Pe(ze)))}},G={__name:"pane",props:{size:{type:[Number,String]},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},setup(L){var V;const P=L,r=O("requestUpdate"),M=O("onPaneAdd"),i=O("horizontal"),w=O("onPaneRemove"),p=O("onPaneClick"),o=(V=Se())==null?void 0:V.uid,f=O("indexedPanes"),v=y(()=>f.value[o]),c=S(null),k=y(()=>{const d=isNaN(P.size)||P.size===void 0?0:parseFloat(P.size);return Math.max(Math.min(d,z.value),N.value)}),N=y(()=>{const d=parseFloat(P.minSize);return isNaN(d)?0:d}),z=y(()=>{const d=parseFloat(P.maxSize);return isNaN(d)?100:d}),D=y(()=>{var d;return`${i.value?"height":"width"}: ${(d=v.value)==null?void 0:d.size}%`});return A(()=>k.value,d=>r({uid:o,size:d})),A(()=>N.value,d=>r({uid:o,min:d})),A(()=>z.value,d=>r({uid:o,max:d})),X(()=>{M({id:o,el:c.value,min:N.value,max:z.value,givenSize:P.size===void 0?null:k.value,size:k.value})}),ee(()=>w(o)),(d,E)=>(F(),W("div",{ref_key:"paneEl",ref:c,class:"splitpanes__pane",onClick:E[0]||(E[0]=j=>U(p)(j,d._.uid)),style:ye(D.value)},[we(d.$slots,"default")],4))}},Ne={style:{display:"flex","justify-content":"center","align-items":"center","flex-direction":"column",margin:"auto",width:"100vw"}},Ee={key:0,style:{height:"100px",width:"60vw",margin:"auto"}},be={style:{"margin-top":"20px"}},Ce={style:{"margin-top":"20px"}},Ve={class:"login",style:{"flex-direction":"column"}},Oe={class:"login-form"},Be={__name:"HelloWorld",setup(L){const V=S(!0),P=localStorage.getItem("type")||"1",r=S(P),M=S({username:"1212312",password:r.value==="2"?"123":""}),i=p=>{console.log(p),r.value=p,localStorage.setItem("type",p),window.location.reload()},w=S("");return X(()=>{r.value==="1"&&(w.value.value="123456")}),(p,o)=>{const f=I("el-radio"),v=I("el-radio-group"),c=I("el-input"),k=I("el-form-item"),N=I("el-form");return F(),W("div",Ne,[V.value?(F(),W("div",Ee,[g(U(ke),{class:"default-theme"},{default:_(()=>[g(U(G),{size:"16"},{default:_(()=>o[3]||(o[3]=[C(" left pane(16%) ")])),_:1}),g(U(G),{size:"84"},{default:_(()=>o[4]||(o[4]=[C(" right pane(84%) ")])),_:1})]),_:1})])):Re("",!0),R("div",null,[R("div",be,[o[7]||(o[7]=C(" Password Input(with initial value): ")),g(v,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=z=>r.value=z),onChange:i},{default:_(()=>[g(f,{value:"1"},{default:_(()=>o[5]||(o[5]=[C("Native password input")])),_:1}),g(f,{value:"2"},{default:_(()=>o[6]||(o[6]=[C("element-plus password input")])),_:1})]),_:1},8,["modelValue"])]),R("div",Ce,[o[9]||(o[9]=C(" Password Input(no initial value): ")),g(v,{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=z=>r.value=z),onChange:i},{default:_(()=>[g(f,{value:"-1"},{default:_(()=>o[8]||(o[8]=[C("no initial value")])),_:1})]),_:1},8,["modelValue"])])]),R("div",Ve,[R("div",Oe,[o[10]||(o[10]=R("label",null,"Native password input: ",-1)),R("input",{ref_key:"psw",ref:w,type:"password"},null,512)]),g(N,{ref:"loginRef",model:M.value,class:"login-form"},{default:_(()=>[g(k,{prop:"password"},{default:_(()=>[o[11]||(o[11]=R("label",null,"element-plus password input: ",-1)),g(c,{modelValue:M.value.password,"onUpdate:modelValue":o[2]||(o[2]=z=>M.value.password=z),type:"password",size:"large","auto-complete":"off"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])])}}},Le=Me(Be,[["__scopeId","data-v-ca2e0268"]]);export{Le as default};
